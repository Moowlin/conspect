202203111512
Tags:
___

# Архитектура REST
REST (от англ. Representational State Transfer — _«передача состояния представления»_) — это архитектурный стиль взаимодействия компонентов распределённого приложения в сети. Другими словами, REST — это набор правил того, как программисту организовать написание кода серверного приложения, чтобы все системы легко обменивались данными и приложение можно было масштабировать

Для [[Архитектура клиент-сервер#Клиент-серверные технологии|веб-служб]], построенных с учётом REST (то есть не нарушающих накладываемых им ограничений), применяют термин «**RESTful**».

В отличие от веб-сервисов (веб-служб) на основе [[SOAP]], не существует «официального» стандарта для RESTful веб-API. Дело в том, что REST является **архитектурным стилем**, в то время как SOAP является протоколом. Несмотря на то, что REST не является стандартом сам по себе, большинство RESTful-реализаций используют такие стандарты, как [[Протокол HTTP|HTTP]], [[URL]], [[JSON]] и, реже, [[Что такое XML|XML]].

## Что нам дает REST подход
-   Масштабируемости взаимодействия компонентов системы (приложения)
-   Общность интерфейсов
-   Независимое внедрение компонентов
-   Промежуточные компоненты, снижающие задержку, усиливающие безопасность


## Требования к архитектуре REST

Существует **шесть** обязательных ограничений для построения распределённых REST-приложений по Филдингу

1. **Единый интерфейс (Uniform Interface)**
	Единый интерфейс определяет интерфейс между клиентами и серверами. Это упрощает и отделяет архитектуру, которая позволяет каждой части развиваться самостоятельно. Четыре принципа единого интерфейса:
	- *Основан на ресурсах*
		Отдельные ресурсы определяются в запросе, для чего используется URI, как идентификаторы ресурсов. Сами ресурсы концептуально отделены от представлений, которые возвращаются клиенту. Например, сервер не отправляет свою базу данных, а, скорее, некоторые HTML, XML или JSON, которые представляет некоторые записи в базе данных, например, на финском языке и в UTF-8, в зависимости от деталей запроса и реализации сервера.
	- *Манипуляции над ресурсами через представления*
		Когда пользователь имеет представление о ресурсе, в том числе о связанных метаданных, он имеет достаточно информации для изменения или удаления ресурса на сервере, если у него есть на это разрешение
	- *Самодокументируемые сообщения*
		Каждое сообщение содержит достаточно информации для описания того, как его выполнить. Например, вызываемый парсер может описываться с помощью Internet media type (так же известным как MIME) Ответы также явно указывают на их способность кешировать.
	- *Hypermedia as the Engine of Application State (HATEOAS)*
		Клиенты предоставляют статус через содержимое body, параметры строки запроса, заголовки запросов и запрашиваемый URI (имя ресурса). Это называется гипермедиа (или гиперссылки с гипертекстом)
		Наряду с приведенным выше описанием, HATEOAS также означает, что, в случае необходимости ссылки содержатся в теле ответа (или заголовках) для поддержки URI извлечения самого объекта или запрошенных объектов. 
		Единый интерфейс так же означает, что любой REST сервис должен обеспечивать его фундаментальный дизайн.
2. **Отсутствие состояний (Stateless)**
	необходимое состояние для обработки запроса содержится в самом запросе, либо в рамках URI, параметрах строки запроса, тела или заголовках. URI уникально идентифицирует ресурс, и тело содержит состояние (или изменение состояния) этого ресурса. Затем, после того, как сервер завершит обработку, состояние или его часть(и) отдаётся обратно клиенту через заголовки, статус и тело ответа.
	В REST, клиент должен включать всю информацию для сервера для выполнения запроса, по необходимости повторно отправляя состояние, если это состояние должно охватывать несколько запросов. Отсутствие состояний обеспечивает большую масштабируемость, так как сервер не должен поддерживать или общаться через состояние сеанса. Кроме того, балансировщику нагрузки не придётся беспокоиться о связанности сессии и системы.
3. **Кеширование ответа (Cacheable)**
	Как и в World Wide Web, клиент может кэшировать ответы. Таким образом, ответы явно или неявно определяют себя как кешируемые или нет, для предотвращения повторного использования клиентами устаревших или некорректных данных в ответ на дальнейшие запросы. Хорошо спроектированное кэширование частично или полностью устраняет некоторые клиент-серверные взаимодействия, способствуя дальнейшей масштабируемости и производительности.
4. **Клиент-сервер (Client-Server)**
	Единый интерфейс отделяет клиентов от серверов. Разделение интерфейсов означает, что, например, клиенты не связаны с хранением данных, которое остаётся внутри каждого сервера, так что мобильность кода клиента улучшается. Серверы не связаны с интерфейсом пользователя или состоянием, так что серверы могут быть проще и масштабируемы. Серверы и клиенты могут быть заменяемы и разрабатываться независимо, пока интерфейс не изменяется.
5. **Многоуровневая система (Layered System)**
	Обычно клиенты не могу сказать — они подключены напрямую к серверу или общаются через посредника. Промежуточный сервер может улучшить масштабируемость системы, обеспечивая балансировку нагрузки и предоставляя общий кэш. Слои также могут отвечать за политику безопасности.
6. **"Код по требованию" (Code on Demand - опционально)**
	Серверы могут временно расширять или настраивать функциональность клиента, передавая ему логику, которую он может исполнять. Например, это могут быть скомпилированные Java-апплеты или клиентские скрипты на [[00 JavaScript|Javascript]]
	Соблюдая эти ограничения, и, таким образом, придерживаясь RESTful архитектуры, мы позволяем распределенной системе любого типа иметь такие свойства как: производительность, расширяемость, простота, обновляемость, понятность, портативность и надёжность.
	**Замечание** Единственным необязательным ограничением для RESTful архитектуры — это "код по требованию". Если сервис не проходит по любым другим условиям, то его совершенно точно нельзя назвать RESTful.
	
# Принцип работы REST API
**Application** **Programming** **Interface** **(API)** или _программный интерфейс приложения_ представляет собой набор правил, определяющих способ взаимодействия между приложениями или устройствами. REST API — это API, соответствующий принципам архитектурного стиля REST (от англ. Representational State Transfer — _«передача состояния представления»_). По этой причине REST API иногда называют RESTful API_._

REST API используют [[Протокол HTTP#HTTP-запрос|запросы HTTP]] для выполнения стандартных функций базы данных, таких как создание, чтение, обновление и удаление записей (так называемые функции CRUD). Например, REST API может использовать запрос GET для получения записи, запрос POST для создания записи, запрос PUT для обновления записи и запрос DELETE для удаления записи. В вызовах API поддерживаются все методы HTTP. Хорошо продуманный REST API можно сравнить с веб-сайтом, который работает в веб-браузере со встроенной поддержкой HTTP.

Состояние ресурса в любой момент времени («отметка времени») называется представлением ресурса. Эта информация может быть предоставлена клиенту практически в любом формате, включая JavaScript Object Notation (JSON), HTML, XLT, Python, PHP или текстовом формате. Популярность JSON обусловлена тем, что данный формат не зависит от языка программирования и понятен как человеку, так и компьютеру.

Важную роль в вызовах REST API также играют заголовки и параметры запросов, поскольку они содержат такую важную информацию, как метаданные, разрешения, универсальные коды ресурсов (URI), сведения о кэшировании, файлы cookie и многое другое. Заголовки запросов и ответов применяются в хорошо продуманных REST API вместе с обычными кодами состояния HTTP.


## HTTP и RESTful веб-сервисы
>Сервис, написанный с учетом всех ограничений REST принято называть RESTful
>RESTful приложение предоставляет список url-адресов, с помощью которых сервер может принимать запросы на получение, сохранение, обновление и удаление данных.

[[Протокол HTTP|HTTP]] обеспечивает базовый уровень для создания веб-сервисов. Поэтому важно понимать HTTP. Вот несколько ключевых абстракций.
  
**Ресурс** — это ключевая абстракция, на которой концентрируется протокол HTTP. 
**Ресурс** — это все, что вы хотите показать внешнему миру через ваше приложение. Например, если мы пишем приложение для управления задачами, экземпляры ресурсов будут следующие:  
-   Конкретный пользователь
-   Конкретная задача
-   Список задач

### URI ресурса
Когда вы разрабатываете RESTful сервисы, вы должны сосредоточить свое внимание на ресурсах приложения. Способ, которым мы идентифицируем ресурс для предоставления, состоит в том, чтобы назначить ему URI — универсальный идентификатор ресурса. Например:  
-   Создать пользователя: **POST /users**
-   Удалить пользователя: **DELETE /users/1**
-   Получить всех пользователей: **GET /users**
-   Получить одного пользователя: **GET /users/1**






# Ссылки
___
##### Links


---
##### Источники
https://www.youtube.com/watch?v=J4Fy6lmLBr0




https://medium.com/@andr.ivas12/rest-%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%8B%D0%BC-%D1%8F%D0%B7%D1%8B%D0%BA%D0%BE%D0%BC-90a0bca0bc78
https://habr.com/ru/post/483202/
https://restapitutorial.ru/lessons/whatisrest.html
https://habr.com/ru/post/483204/


https://habr.com/ru/company/ruvds/blog/472858/
https://htmlacademy.ru/tutorial/php/http-headers
https://developer.mozilla.org/ru/docs/Web/HTTP/Methods/HEAD
http://httpbin.org/#/HTTP_Methods/post_post
https://sergeygavaga.gitbooks.io/kurs-lektsii-testirovanie-programnogo-obespecheni/content/lektsiya-8-ch1.html
https://www.youtube.com/watch?v=2gitgqcPi2c
https://www.youtube.com/watch?v=2YWfJHDNQy0
https://qahacking.ru/lessons/chto-takoe-soap-api
https://mcs.mail.ru/blog/vvedenie-v-rest-api
https://www.ibm.com/ru-ru/cloud/learn/rest-apis