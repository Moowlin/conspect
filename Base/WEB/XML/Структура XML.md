202204262158
Tags:
___
# Дерево XML
XML документы формируют древовидную структуру, которая начинается с "корневого" элемента и разветвляется на "дочерние" элементы.

XML документы используют простой и самоописательный синтаксис:

```XML
<?xml version="1.0" encoding="UTF-8"?>
<note>
   <to>Tove</to>
   <from>Jani</from>
   <heading>Напоминание</heading>
   <body>Не забудь обо мне в эти выходные!</body>
</note>
```

Первая строка — это XML декларация. Здесь определяется версия XML (1.0).

Для описания взаимоотношений между элементами обычно используют термины "родитель", "потомок" и "брат"/"сестра". У "родительского" элемента есть "потомки" или "дочерние" элементы. "Потомки" на одном и том же уровне называются "братья" или "сестры".

У всех элементов могут быть текстовый контент и атрибуты (также как в HTML).
![[03_-_nodetree.png]]

# Правила синтаксиса XML
![[gvafpy1zn3t4vdtbfee_d8d8vs0.png]]


- Все XML элементы должны иметь закрывающий тег

- декларация не относится к XML документу, поэтому у нее и нет закрывающего тега.
- Теги XML регистрозависимы
- XML элементы должны соблюдать корректную вложенность
- У XML документа должен быть корневой элемент
- XML пролог
	Следующая строка называется XML прологом:
	```XML
	<?xml version="1.0" encoding="UTF-8"?>
	```
	XML пролог необязателен. Но если он есть, то это должна быть первая строка XML документа.
- Значения XML атрибутов должны заключаться в кавычки
	`<note date="12/11/2007"> </note>`
- Сущности
	Если вы поместите, например, символ "<" внутри XML элемента, то будет сгенерирована ошибка, так как парсер интерпретирует его, как начало нового элемента. Чтобы такая ошибка не возникала, нужно заменить символ "<" на его сущность:
	
	| Сущность | Символ | Значение    |
	| -------- | ------ | ----------- |
	| `&lt;`   | <      | меньше, чем |
	| `&gt;`   | >      | больше, чем |
	| `&amp;`  | &      | амперсанд   |
	| `&apos;` | '      | апостроф    |
	| `&quot;` | "      | кавычки     |

- Комментарии в XML
	Синтаксис комментариев в XML такой же, как и в HTML.
	`<!-- Это комментарий -->`
	
- В XML пробелы сохраняются
- В XML новая строка сохраняется как LF
- Синтаксически верный XML документ
	Если XML документ составлен в соответствии с приведенными синтаксическими правилами, то говорят, что это "синтаксически верный" XML документ.


# XML элементы
XML элемент — это все от (и включая) начального тега элемента до (и включая) конечного тега элемента.

Элемент может содержать:

-   другие элементы
-   текст
-   [[Структура XML#XML атрибуты|атрибуты]]
-   или набор из всего выше названного

## Пустые XML элементы
При написании элементов без контента можно использовать альтернативный синтаксис.
Вместо того, чтобы писать пустой элемент в виде:
```xml
<book></book>
```
Можно написать:
```xml
<book />
```
Такой синтаксис элемента называется самозакрывающийся.

## Правила написания имен XML
XML элементы должны следовать следующим правилам написания имен:

-   Имена могут содержать буквы, числа и другие символы
-   Имена не могут начинаться с цифры или символа пунктуации
-   Имена не могут начинаться с сочетания "xml" (или XML, или Xml и т.п.)
-   Имена не могут содержать пробельные символы

В качестве имен можно использовать любые слова. Нет зарезервированных слов.

### Хорошая практика составления имен

- Старайтесь придумать описательные имена: `<first_name>`, `<last_name>`.

- Имена следует составлять короткие и простые, вроде: `<book_title>`; а не: `<the_title_of_the_book>`.

- Избегайте символ "-". Если вы напишите нечто вроде "first-name", то некоторые приложения могут решить, что вы вычитаете имя "name" из имени "first".

- Избегайте символ ".". Если вы напишите нечто вроде "first.name", то некоторые приложения могут решить, что "name" это свойство объекта "first".

- Избегайте символ ":". Двоеточие зарезервировано для механизма [[XML пространства имен|пространства имен]].

- Не-латинские символы, вроде, _éòá_ вполне легальны в XML, однако, если некое приложение их не поддерживает, то возникнут проблемы.

### Стили написания имен
Для XML элементов не существует какого-либо определенного стиля написания имен. Тем не менее, вот несколько наиболее часто используемых стилей:

| Стиль                    | Пример         | Описание                                  |
| ------------------------ | -------------- | ----------------------------------------- |
| Нижний регистр           | `<firstname>`  | Все буквы в нижнем регистре               |
| Верхний регистр          | `<FIRSTNAME>`  | Все буквы в верхнем регистре              |
| С символом подчеркивания | `<first_name>` | Слова разделяются символом подчеркивания  |
| В стиле Pascal           | `<FirstName>`  | Первые буквы всех слов в верхнем регистре |
| "Верблюжий горб"         | `<firstName>`  |   Первые буквы всех слов за исключением первого в верхнем регистре                                        |


>Если вы выбрали какой-либо стиль написания имен, то следует последовательно придерживаться его!

Очень часто XML документ сопровождается соответствующей базой данных. Хорошей практикой является использование таких же правил написания имен элементов XML документа, что и в соответствующей базе данных.


# XML атрибуты
Как и в HTML, XML элементы могут иметь атрибуты. При этом значение атрибутов в XML и правило их создания во многом похожи на [[HTML-элемент#Атрибуты элементов|атрибуты в HTML]].

Атрибуты предоставляют дополнительную информацию об элементе.
Атрибуты часто предоставляют информацию, не являющуюся частью данных.

>XML атрибуты должны заключаться в кавычки

## XML элементы или атрибуты
Посмотрите на следующие примеры:

**Пример №1**

```xml
<person sex="female">
   <firstname>Anna</firstname>
   <lastname>Smith</lastname>
</person>
```

**Пример №2**

```xml
<person>
   <sex>female</sex>
   <firstname>Anna</firstname>
   <lastname>Smith</lastname>
</person>
```

В первом примере пол указан в атрибуте. Во втором, пол записан, как элемент. Оба примера предоставляют одну и ту же информацию.

Нет правил, регулирующих то, когда использовать атрибуты, а когда элементы. Атрибуты широко используются в HTML. В XML лучше их избегать и вместо них использовать элементы.

### Избегать XML атрибуты?
При использовании атрибутов возникают некоторые проблемы:

-   атрибуты не могут содержать множественные значения (элементы могут)
-   атрибуты не могут содержать древовидные структуры (элементы могут)
-   атрибуты сложно расширять (для будущих изменений)

Атрибуты нелегко читать и обслуживать. Используйте элементы для данных, а атрибуты для информации, не относящейся к данным.

## XML атрибуты для метаданных
Иногда элементам присваивают идентификаторы. Эти идентификаторы используются для идентификации XML элементов в точности также, как идентификационные атрибуты в HTML. Следующий пример демонстрирует это:

```XML
<messages>
   <note id="501">
      <to>Tove</to>
      <from>Jani</from>
      <heading>Напоминание</heading>
      <body>Не забудь обо мне в эти выходные!</body>
   </note>
```

В приведенном примере атрибут id используется для идентификации разных заметок. Эта информация не является частью самой заметки.

# Ссылки
___
##### Links


---
##### Источники
