202210272141
Tags:
___
# Всё о свойстве float

Float - это свойство CSS для позиционирования элементов.

![[web-text-wrap.png]]


В веб-дизайне, элементы страницы с установленным свойством float, ведут себя точно также как и изображения в полиграфии, когда текст "обтекает" их. Такие элементы являются частью основного потока веб-страницы. Однако всё обстоит иначе, если элементы используют [[абсолютное позиционирование]]. Абсолютно позиционированные элементы удаляются из основного потока страницы, подобно примеру выше, когда в полиграфии текст игнорирует изображения. Такие элементы не влияют на позицию остальных элементов, соприкасаются они или нет.

Установка свойства float происходит следующим образом:
```css
#sidebar {
	float	: right;
}
```

Всего есть 4 значения для свойства `float`:
- left
- right
- none - по умолчанию
- inherit - поведение такое же, как у родительского элемента

## Для чего можно использовать float?

Помимо обтекания текстом изображений, float может использоваться для создания макета всего сайта.

![[web-layout.png]]

Свойство float также полезно и в меньших масштабах. Для примера рассмотрим маленькую область на странице сайта. Допустим вы используете float для аватара, при изменении размера изображения, размер текста будет подогнан в соответствии с изображением.

![[reflow-example-1.png]]


Такое же расположение объектов может быть достигнуто путём использования [[Позиционирование|позиционирования]]. Объекту-контейнеру присваивается [[относительное (relative) позиционирование]], а объекту с изображением - [[абсолютное (absolute)]]. В этом случае аватар не повлияет на положение текста.

![[reflow-example-2.png]]


## Отмена свойства float

Для `float`, родственное свойство - `clear`. Любой элемент, у которого установлено свойство clear, не будет поднят вверх, как от него ожидается, а отобразится ниже, после float-элементов. Возможно, пример на картинке объяснит лучше, чем слова.

![[unclearedfooter.png]]


В примере, сайд-бар прижат к правому краю (float: right;), а его высота меньше, чем область основного контента. Поэтому footer будет поднят выше, поскольку для него хватает высоты и этого требует поведение float. Чтобы исправить ситуацию, ему необходимо установить свойство clear, которое гарантирует, что элемент выведется ниже float-элементов.

```css
#footer {
	clear: both;
}
```

![[clearedfooter.png]]

Свойство `clear` может принимать четыре значения:
- Both - для отмены float каждого из направлений
- Left
- Right
- None - по умолчанию

>Значение inherit было бы пятым значением, но оно странным образом не поддерживается в Internet Explorer. 

Отмена только левого или правого float, встречается гораздо реже, но, безусловно, имеет свои цели.

![[directionalclearing.png]]

# Большой коллапс

Ещё одна удивительная вещь при работе со свойством float - это то, что его использование может влиять на родительский элемент. Если такой элемент содержит только float-элементы, то он буквально схлопывается, то есть его высота равна нулю. Это не всегда заметно, если у родительского элемента не установлен какой-либо видимый фон.

![[collapse.png]]


Такое схлопывание выглядит нелогичным, однако альтернатива ещё хуже. Рассмотрим такой пример:
![[whywecollapse.png]]

Если блочный элемент, располагающийся наверху, будет автоматически увеличиваться, чтобы вместить все float-элементы, то мы получим неестественный разрыв в тексте между параграфами, без всякой возможности это исправить. Если бы было именно так, наши дизайнеры жаловались бы гораздо чаще такому поведению, чем схлопыванию.

Таким образом, схлопывание почти всегда необходимо, чтобы предотвратить трудности в вёрстке. Для того чтобы изменить такое поведение, необходимо добавить элемент отменяющий float после float-элементов, но до закрытия родительского элемента.

## Способы отмены float
Если вам известно, что следом после float-элементов, всегда будет выводится какой-либо другой элемент (например футер), то вам достаточно ему установить свойство clear: both;, как в примере выше, и заниматься дальше своими делами. Это идеальный вариант, поскольку он не требует каких-либо хаков, или дополнительных элементов.

- **Метод пустого div-а**
	Используется, в буквальном смысле, пустой div. 
	```css
	<div style="clear: both;"></div>
	```
-  **Метод overflow**
	Основан на том, что родительскому элементу необходимо установить свойство overflow. Если значение этого свойства установлено в auto или hidden, то родительский элемент увеличится, чтобы вместить в себя все float-элементы. Этот метод выглядит более семантически правильным, поскольку не требует дополнительных элементов. Однако, если вы соберётесь использовать ещё один div, только для того чтобы использовать этот подход (имеется в виду родительский div), то это будет то же самое, что предыдущий пример с добавлением пустого div-а. Кроме того, помните, что свойство overflow предназначено для других целей. Будьте аккуратны и не допустите, что часть контента у вас пропадёт, либо появятся никому не нужные скролл-бары.

- **Метод простой очистки**
	Этот метод использует замечательный псевдо селектор CSS - :after. Гораздо лучше чем использование overflow для родительского элемента. Вы просто устанавливаете ему дополнительный класс, объявленный, например, так:

	```css
	.clearfix:after {
		content		: ".";
		visibility	: hidden;
		display		: block;
		height		: 0;
		clear		: both;
	}
	```

	Этот способ добавляет незаметное для глаз содержимое и отменяет float. И, кстати, это не вся [история](http://www.positioniseverything.net/easyclearing.html) о том как дополнительный код должен быть использован в старых браузерах.

И, как вы понимаете, каждый из способов используется в различных ситуациях. Возьмём, к примеру, сетку из блочных элементов, отличающихся типами.

![[grid-blocks.png]]


Для более лучшего визуального представления было бы неплохо объединить подобные блоки. Например мы хотим, чтобы каждый тип начинался с новой строки, в нашем случае тип элемента определяется цветом. Мы можем использовать метод с overflow или "метод простой очистки", если у каждой группы есть свой элемент-контейнер. Или же мы можем использовать метод пустого div-а между каждой из групп. Три элемента-контейнера, или три пустых div-а, что лучше для вашей задачи - решать вам.

![[grid-blocks-cleared.png]]


## Проблемы с float

Float часто стараются обходить, поскольку работать с ними надо очень аккуратно. Большинство ошибок пришло вместе с IE6. Поскольку всё больше и больше веб-дизайнеров отказываются от поддержки IE6, то вас могут и не волновать эти проблемы. Но для тех, кому не всё равно, вот краткий список.

- **"Выталкивание" (pushdown).**
	Возникает когда элемент внутри float-элемента оказывается шире его (обычно это изображения). Большинство браузеров обработает такие элементы вне float-структуры и вёрстка не будет сломана. IE расширит элемент, чтобы изображение влезло, зачастую это ломает дизайн. На картинке представлен пример, как изображение торчит из основного контента и таким образом "выталкивает" сайд-бар вниз.
	![[pushdown2 1.png]]
	Самый просто способ избежать этого - это проверить что все ваши изображения подходят по ширине. Можно использовать `overflow: hidden;`, чтобы обрезать выступающую часть.

- **Двойной внешний отступ.**
	Ошибка проявляющаяся в IE6, в случае если вы устанавливаете внешний отступ в том же направлении, в котором у вас указан float. В этом случае отступ удваивается. Чтобы исправить это, необходимо установить плавающему (float) элементу свойство display: `inline;`, не беспокойтесь, элемент по прежнему будет блочным.
	
- **Трёх-пиксельный прыжок (3px Jog).**
	Ошибка, которая проявляется следующим образом: текст, который расположен рядом с float-элементом неожиданно съезжает на 3 пикселя. Чтобы избежать этого, необходимо установить ширину или высоту пострадавшему тексту.
	
- В IE7 существует **Ошибка нижнего внешнего отступа (Bottom Margin Bug)**
	возникает когда элемент с установленным свойством float, содержит в себе ещё один float-элемент. В таких случаях, нижний внешний отступ дочернего элемента игнорируется. Для обхода этой проблемы необходимо использовать внутренний отступ родительского элемента, вместо внешнего отступа дочернего.

# Альтернативы float

Если вам необходимо обтекание картинки текстом, то альтернатив нет. Но для макета страницы, определённо есть выбор. Существуют очень интересные подходы, в которых комбинируется гибкость float с мощью абсолютного позиционирования. В CSS3 есть, так называемый, [**Модуль разметки шаблона (Template Layout Module)**](http://www.w3.org/TR/2009/WD-css3-layout-20090402/), который в будущем предоставит достойную альтернативу float.


# Ссылки
___
##### Links


---
##### Источники
http://www.css-tricks.ru/articles/css/all-about-floats