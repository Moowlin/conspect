202112131058
Tags:
___

# SQL введение

**SQL** - язык структурированных запросов применяемый для хранения, обработки и извлечения данных в базах данных.

## Что такое SQL?

-   Язык структурированных запросов
-   Позволяет обращаться к базам данных и управлять ими
-   Является стандартом ANSI (Американский национальный институт стандартов)

## Что может делать SQL?

-   Выполнять запросы к базе данных
-   Извлекать данные из базы данных
-   Вставлять записи в базу данных
-   Обновлять записи в базе данных
-   Удалять записи из базы данных
-   Создавать новые базы данных
-   Создавать новые таблицы в базе данных
-   Создавать хранимые процедуры в базе данных
-   Создавать представления в базе данных
-   Устанавливать разрешения для таблиц, процедур и представлений

## SQL - стандарт, но
Хотя SQL является стандартом ANSI / ISO, существуют различные версии языка SQL.
Однако, чтобы соответствовать стандарту ANSI, все они поддерживают по крайней мере основные команды (такие как SELECT, UPDATE, DELETE, INSERT, WHERE) аналогичным образом.

>**Примечание:** Большинство программ баз данных SQL также имеют свои собственные проприетарные расширения в дополнение к стандарту SQL!

## Как использовать SQL на вашем веб сайте

Чтобы построить веб сайт, который показывает данные из базы данных, вам потребуется:

-   Программа базы данных СУБД (например, MS Access, SQL Server, MySQL)
-   Использование серверного скриптового языка, например PHP или ASP
-   Использование SQL, чтобы получить данные, которые вы хотите
-   Использование HTML/CSS для оформления страницы

# Типы данных в SQL

Каждый столбец в таблице базы данных должен иметь имя и тип данных.
SQL разработчики должны решить, какие типы данных будут храниться внутри каждого столбца таблицы при [[Оператор CREATE TABLE#| создании таблицы SQL]].
В MySQL существует три основных типа данных: [[02_Язык SQL#Типы текстовых данных| текст]], [[02_Язык SQL#Типы числовых данных|число]] и [[02_Язык SQL#Тип даты|дата]].

## Типы текстовых данных
| **Тип**          | **Описание**                                                                                                                                                                                                                                                        |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| CHAR(size)       | Удерживает строку фиксированной длины (может содержать буквы, цифры и специальные символы). Фиксированный размер указан в скобках. Может хранить до 255 символов                                                                                                    |
| VARCHAR(size)    | Удерживает строку переменной длины (может содержать буквы, цифры и специальные символы). Максимальный размер указан в скобках. Может хранить до 255 символов. Если вы ставите большее значение, чем 255, оно будет преобразовано в тип TEXT                         |
| TINYTEXT         | Удерживает строку длиной не более 255 символов                                                                                                                                                                                                                      |
| TEXT             | Удерживает строку с максимальной длиной 65535 символов                                                                                                                                                                                                              |
| BLOB             | Для BLOB (Binary Large OBjects). Сохраняет до 65535 байт данных                                                                                                                                                                                                     |
| MEDIUMTEXT       | Удерживает строку с максимальной длиной 16,777,215 символов                                                                                                                                                                                                         |
| MEDIUMBLOB       | Для BLOB (Binary Large OBjects). Удерживает до 16 777 215 байт данных                                                                                                                                                                                               |
| LONGTEXT         | Удерживает строку с максимальной длиной 4 294 967 295 символов                                                                                                                                                                                                      |
| LONGBLOB         | Для BLOB (Binary Large OBjects). Сохраняет до 4 294 967 295 байтов данных                                                                                                                                                                                           |
| ENUM(a,b,c,etc.) | Позвольте ввести список возможных значений. Вы можете перечислить до 65535 значений в списке ENUM. Если вставлено значение, которое отсутствует в списке, будет добавлено пустое значение. Примечание. Значения сортируются в том порядке, в котором вы их вводите. |
| SET              | Подобно ENUM, за исключением того, что SET может содержать до 64 элементов списка и может хранить несколько вариантов                                                                                                                                               |



## Типы числовых данных
| **Тип**         | **Описание**                                                                                                                                                                                                               |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| TINYINT(size)   | От -128 до 127. От 0 до 255 UNSIGNED \*. Максимальное количество цифр может быть указано в круглых скобках                                                                                                                 |
| SMALLINT(size)  | -32768 до 32767 нормально. 0 до 65535 UNSIGNED*. Максимальное количество цифр может быть указано в скобках                                                                                                                 |
| MEDIUMINT(size) | -8388608 до 8388607 normal. 0 до 16777215 UNSIGNED*. Максимальное количество цифр может быть указано в скобках                                                                                                             |
| INT(size)       | -2147483648 до 2147483647 normal. 0 до 4294967295 UNSIGNED*. Максимальное количество цифр может быть указано в скобках                                                                                                     |
| BIGINT(size)    | -9223372036854775808 до 9223372036854775807 normal. 0 до 18446744073709551615 UNSIGNED*. Максимальное количество цифр может быть указано в скобках                                                                         |
| FLOAT(size,d)   | Небольшое число с плавающей запятой. Максимальное количество цифр может быть указано в параметре размера. Максимальное количество цифр справа от десятичной точки указано в параметре d                                    |
| DOUBLE(size,d)  | Большое число с плавающей запятой. Максимальное количество цифр может быть указано в параметре размера. Максимальное количество цифр справа от десятичной точки указано в параметре d                                      |
| DECIMAL(size,d) | DOUBLE хранится как строка, позволяющая фиксированную десятичную точку. Максимальное количество цифр может быть указано в параметре размера. Максимальное количество цифр справа от десятичной точки указано в параметре d |

**UNSIGNED** - дополнительный параметр целочисленного типа. Обычно целое число переходит от отрицательного к положительному. Добавление атрибута UNSIGNED будет перемещать этот диапазон вверх так, чтобы он начинался с нуля вместо отрицательного числа.


## Тип даты
| **Тип**     | **Описание**                                                                                   |
| ----------- | ---------------------------------------------------------------------------------------------- |
| DATE()      | Формат даты: YYYY-MM-DD                                                                        |
| DATETIME()  | Формат даты и времени:  YYYY-MM-DD HH:MI:SS                                                    |
| TIMESTAMP() | Количество секунд с момента Unix ('1970-01-01 00:00:00' UTC). Формат даты: YYYY-MM-DD HH:MI:SS |
| TIME()      | Формат времени: HH:MI:SS                                                                       |
| YEAR()      | Год                                                                                               |




В следующей таблице приведены некоторые из общих названий типов данных между различными платформами баз данных:
![[Pasted image 20211214102836.png]]

# SQL запросы
 все **SQL запросы делятся на четыре группы:**

1. [[DDL | Инструкции или операторы для определения данных (Data Definition Language, DDL)]].
			Определение данных подразумевает создание, редактирование и удаление различных объектов базы данных, таких как таблицы (tables), табличные представления (views), синонимы (synonyms), хранимые процедуры, профили пользователя и т.п.
2.  [[DML | Для манипуляции данными (Data Manipulation Language, DML)]].
			выбор, обновление, добавление и удаление записей из таблиц.
3.  [[DCL | Для определения параметров доступа к данным (Data Control Language, DCL)]].
			это процесс награждения или лишения объектов базы данных различного рода разрешениями, привилегиями и полномочиями
4.  [[TCL | Для управления транзакциями (Transaction Control Language, TCL)]].
			сводится к возможности сохранить текущие изменения, накопившиеся в результате выполнения последовательности запросов манипуляции данными или целиком их все отменить
			
![[Pasted image 20220112140621.png]]
			
## Вид оператора SQL
![[Pasted image 20220111164622.png]]

Каждый оператор SQL начинается с глагола, представляющего собой ключевое слово, определяющее, что именно делает этот оператор (SELECT, INSERT, DELETE...). 
В операторе содержатся также предложения, содержащие сведения о том, над какими данными производятся операции. 
Каждое предложение начинается с ключевого слова, такого как FROM, WHERE и др. Структура предложения зависит от его типа — ряд предложений содержит имена таблиц или полей, некоторые могут содержать дополнительные ключевые слова, константы или выражения.

## Предикаты
Предикаты представляют собой выражения, принимающие истинностное значение. Они могут представлять собой как одно выражение, так и любую комбинацию из неограниченного количества выражений, построенную с помощью [[SQL-операторы#Логические операторы Transact-SQL| булевых операторов AND, OR или NOT]]. Кроме того, в этих комбинациях может использоваться SQL-оператор IS, а также круглые скобки для конкретизации порядка выполнения операций

Предикат в языке SQL может принимать одно из трех значений TRUE (истина), FALSE (ложь) или UNKNOWN (неизвестно). Исключение составляют следующие предикаты: NULL (отсутствие значения), EXISTS (существование), UNIQUE (уникальность) и MATCH (совпадение), которые не могут принимать значение UNKNOWN.

Правила комбинирования всех трех истинностных значений легче запомнить, обозначив TRUE как 1, FALSE как 0 и UNKNOWN как 1/2 (где то между истинным и ложным).


## Дополнительные возможности

[[Комментарии]]
[[Ограничения]]
[[Псевдонимы]]
[[Join]]
[[Индексы]]



# Ссылки
___
##### Links
[[Вложенные запросы]]


---
##### Источники
https://schoolsw3.com/sql/sql_update.php
http://citforum.ru/database/advanced_intro/

http://2sql.ru/novosti/sql-and-or/
http://www.mstu.edu.ru/study/materials/zelenkov/toc.html
https://sql-academy.org/ru/guide
https://schoolsw3.com/sql/sql_syntax.php
https://compress.ru/art