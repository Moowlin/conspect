202104272305
Tags:
___
# Создание пользователя
            
`useradd или adduser` - добавить нового пользователя.
`passwd`- задать пароль для пользователя.
`usermod`- изменить параметры учетной записи пользователя.
`userdel или deluser` - удалить учетную запись пользователя.
`groupadd` - добавляет новую группу.
`gpasswd` - устанавливает пароль группы.
`groupmod` - изменение параметров группы.
`groupdel` - удаление группы.
`find / -user linda` - показывает все файлы, у которых в качестве владельца указан пользователь linda
`find / -group users` - поиск файлов, у которых определенная группа является их владельцем
[[Команда chown | chown]]  - изменяет владельца и/или группу файла или директории, то есть UserID и GroupID для указанного файла
`chgrp [ключи] группа файл` - Утилита chgrp устанавливает идентификатор группы (group ID) для файлов, переданных в качестве аргумента файл, в идентификатор группы, указанной операндом группа.
[[Команда chmod | chmod]] - Изменение прав доступа к файлу или каталогу.
`umask` - определение прав доступа по умолчанию для файлов, создаваемых пользователем.

## Обычное добавление пользователя          
При создании нового пользователя автоматически указываются несколько параметров. В файле `/etc/passwd`, заводится запись с указанием имени пользователя, домашнего каталога, UID, GID. В каталог помещаются файлы инициализации командной оболочки. Все можно указать вручную, при помощи дополнительных опций. Список опций можно просмотреть командой useradd --help или useradd -h

![[Pasted image 20210427233127.png]]

==Для создания пользователя достаточно выполнить команду useradd и указать его имя.==

Синтаксис команды: `useradd options username`:
``` bash           
useradd techlist
```
Теперь нужно задать пароль для созданного пользователя. Пароль задается командой passwd с указанием имени пользователя.
``` bash           
passwd techlist
Введите новый пароль UNIX:
Повторите ввод нового пароля UNIX:
passwd: пароль успешно обновлён
```
Можно задать пароль для пользователя сразу при создании, например, так:
``` bash           
useradd -p password techlist
```
\# password - заменить на свой пароль, пароль указывается в своем обычном виде

Проверим с какими параметрами был создан пользователь:
``` bash           
grep -E 'techlist' /etc/passwd
techlist:x:1001:1001::/home/techlist:/bin/bash
id techlist
uid=1001(techlist) gid=1001(techlist) группы\=1001(techlist)
```
Пользователь создан со следующими параметрами:

| Параметр| значение |
|--- | --- |
| `user_name` | techlist |
| `password` |x ( указывает что пароль хранится в зашифрованном виде)|
| `UID` | 1001 |
| `GID` | 1001 |
| `home_directory` | /home/techlist |
| `login_shell`  | /bin/bash |

>Подобным образом команда useradd работает в ==CentOS и других подобных ему системах==, но в Debian или Ubuntu она просто создаст голого пользователя, а все остальное придется добавлять потом вручную.

>Чтобы создать пользователя с подобными параметрами в Debian & Ubuntu команда useradd должна выглядеть следующим образом.

![[Pasted image 20210427233944.png]]

==Поэтому в Ubuntu & Debian удобнее пользоваться утилитой adduser==, при ее использовании нужно будет ответить на несколько вопросов, в процессе ее выполнения будут видны все шаги по созданию нового пользователя.

``` bash
adduser techlist
Добавляется пользователь «techlist» ...
Добавляется новая группа «techlist» (1001) ...
Добавляется новый пользователь «techlist» (1001) в группу «techlist» ...
Создание почтового ящика: Файл существует
Создаётся домашний каталог «/home/techlist» ...
Копирование файлов из «/etc/skel» ...
Введите новый пароль UNIX:
Повторите ввод нового пароля UNIX:
passwd: пароль успешно обновлён
Изменение информации о пользователе techlist
Введите новое значение или нажмите ENTER для выбора значения по умолчанию
Полное имя []: Techlist
Номер комнаты []:
Рабочий телефон []:
Домашний телефон []:
Другое []:
Данная информация корректна? [Y/n] y
```

Проверим как создался пользователь.
``` bash
grep -E 'techlist' /etc/passwd
techlist:x:1001:1001:Techlist,,,:/home/techlist:/bin/bash
id techlist
uid=1001(techlist) gid=1001(techlist) группы\=1001(techlist)
```

Пользователь создался как и в CentOS, за исключением того, что там мы не указывали полного имени "Techlist,,,", через запятые должны были быть указаны номера комнаты и телефонов, которые мы пропустили нажав на Enter.


___
##### Links

---
##### Источники
