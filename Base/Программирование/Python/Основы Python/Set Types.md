202105171718
Tags:
___
## Основные понятия.
Множество — это неупорядоченная последовательность элементов со следующими особенностями:
-  все элементы множества уникальны. Иными словами в множестве не может быть двух одинаковых элементов;
-   элементы множества есть неизменными объектами;
-   элементы множества могут быть разных типов.
-   элементы множества хранятся не подряд, как в списке, а при помощи хитрых алгоритмов
>Множества часто используются для двух целей: для удаления дубликатов и для проверки принадлежности.

В множества запрещено включать объекты изменяемых (mutable) типов, а именно:
-   списки;
-   словари;
-   изменяемые (mutable) множества, которые были созданы конструктором класса set или операцией присваивания.

В множества разрешается включать объекты так называемых неизменяемых или «хешированных» (hashable) типов. Объект считается «хешированным», если он имеет значение, которое никогда не изменяется на протяжении жизни этого объекта в программе.

К хешированным типам, объекты которых можно включать в множества, относятся:
-   числовые типы (вещественные, целые типы);
-   логический тип;
-   строчный тип;
-   кортеж;
-   неизменяемое множество, которое было создано с помощью конструктора класса frozenset.


### Создание объекта типа «множество».
1. с помощью присваивания этому объекту множества элементов в фигурных скобках **{}**;
```python
x = { 0, 0, 1, 2, 3 } 				# x = {0, 1, 2, 3} - элементы в множестве не повторяются
y = { 'a', "textbook", 5 } 			# y = {'a', 'textbook', 5}
z = { True, False, 0.25, 'Hello' } 	# z = {False, True, 'Hello', 0.25}
```
 2. с помощью присваивания объекту некоторого результата, который был возвращен функцией set(). Функция set() позволяет превратить в множество объекты других типов;
```python
x = set(['a', 5, "textbook", 5]) 	# x = {5, 'textbook', 'a'}
y = set('Hello!') 					# y = {'l', 'o', 'e', '!', 'H'}
z = set([0,1,2,3,4,5]) 				# z = {0, 1, 2, 3, 4, 5}
```
3. с помощью присваивания объекту результата некоторой операции над множествами (например, операции & пересечения множеств);
```python
x = { 1, 2, 3, 4 } & { 3, 2}		# x = {2, 3}
y = { 1, 2, 3, 4 } - { 1, 4}		# y = {2, 3}
z = { 'a', 'c', 5 } | { True }		# z = {'a', 5, 'c', True}
```
4. с помощью присваивания объекту результата функции **frozenset()**. Эта функция позволяет получить неизменяемое множество;
```python
x = frozenset([1, 2, 3, 4]) # x - неизменяемое (immutable) множество
```
5. с помощью присваивания объекту результата функции, возвращающей некоторое множество.
```python
x = { 1, 2, 3, 4 }
y = { 3, 5, 7 }
z = x.union(y) 	# z = { 1, 2, 3, 4, 5, 7 }
```
6.  _Генератор множеств_ – это специальная конструкция, которая предназначена для создания множества с помощью цикла` for`
`{statement  for   item in [items]}`
-   _statement_ – выражение (формула), формирующая элементы новосозданного множества основываясь на перечне _items_;
-   _item_ – элемент множества, которое используется в выражении _statement_. Этот элемент принимает значение из набора элементов _items_;
-   _items_ – множество элементов исходного множества, которые перечислены через запятую. Множество элементов _items_ есть непосредственными данными, которые используются в выражении _statement_ для формирования нового множества.
```python
y = { 3*x for x in set([1,2,3,4,5,6])} # y = {3, 6, 9, 12, 15, 18}
x = { s for s in set('abcdef')} # x = {'a', 'd', 'c', 'f', 'e', 'b'}
```

## Базовые операции над множествами.
Язык Python поддерживает следующие операции над множествами:

-   **in**, **not in** – проверка элемента на вхождение в множество;
-   **–** (минус) – разность множеств;
-   **|** – объединение множеств;
-   **&** – пересечение множеств;
-   **^** – симметричная разность.
### Операции in, not in. Проверка элемента на вхождение.
```Item in Set``` or ```Item not in Set```
-   _Item_ – некоторый объект (элемент), который нужно проверить на вхождение в множество _Set_. Если объект _Item_ есть в множестве _Set_, то результат операции будет True. В противном случае результат операции будет False;
-   _Set_ – некоторое множество.

### Операция –. Разность множеств.
В Python операция разность множеств обозначается символом – (минус). Кроме того для определения разности множеств в Python реализована функция **difference()** [[Функции для работы с множествами]].
```set1 – set2 - ... - setN```
-   _set1_ – множество, от которого вычитаются (удаляются) элементы, размещенные в множестве _set2_. При вычитании рассматриваются только те элементы, которые являются общими (одинаковыми) для двух множеств. В результате создается новое множество, содержащие элементы множества _set1_, которых нет в множестве _set2_;
-   _set2_ – множество, определяющее элементы, которые нужно вычесть (удалить) из множества _set1_.
```python
# Однотипные элементы
x = { 1, 2, 3, 5 }
y = { 2, 8 }
z = x - y # z = {1, 3, 5}
v = y - x # v = {8}
# Разнотипные элементы
x = { 'a', True, 'Text' }
y = { 2, 8, 16.23, 'a' }
z = x - y # z = {True, 'Text'}
```

### Операция |. Объединение множеств.
Объединение множеств **_a_** и **_b_** – это образование такого множества **_c_**, элементы которого есть в множестве **_a_** или есть в множестве **_b_**. В языке Python для реализации объединения множеств можно использовать операцию **|** или функцию **union()** [[Функции для работы с множествами]].
`set1 | set2 | set3 | ... | setN`
_set1_, _set2_ – некоторые множества, которые объединяются. Результирующее множество содержит все элементы множества _set1_ и все элементы множества _set2_.

```python
x = { 'a', 5, True }
y = { 2, 3.85, False }
z = x | y 	# z =   {3.85, True, False, 2, 5, 'a'}
v = x | y | { 170 } 	# v = {3.85, True, False, 2, 5, 'a', 170}
```

### Операция ^. Симметричная разность.
Для получения симметричной разности множеств в языке Python можно использовать операцию **^** или функцию **symmetric_difference()** [[Функции для работы с множествами]].

Операция симметричной разности множеств есть обратной к операции пересечения множеств &. В этом случае в результирующее множество включаются элементы, которые не являются общими.
`set1 ^ set2 ^ set3 ^ ... ^ setN`
 _set1_, _set2_ – множества для которых реализуется симметричная разность. В результате получается новое множество, содержащее элементы, которые не являются общими для множеств _set1_, _set2_.
```python
# Результат - пустое множество, все элементы общие
x = { 1, 3, 5 }
y = { 3, 5, 1 }
z = x ^ y 	# z = {} - пустое множество

# Значение 3 в множествах есть в обоих множествах, поэтому оно не включено в результат
x = { 1, 3, 5 }
y = { 2, 3, 8 }
z = x ^ y 	# z = {1, 2, 5, 8} - без значения 3
```

#### Пример использования множеств для фильтрации списков
```python
# Использование множеств для фильтрации списков
# 1. Создать список чисел от 1 до 10
List = [5, 3, 2, 3, 4, 2, 3, 7, 9, 5, 7]

# 2. Определить, какие числа от 1 до 10 входят в список List 
numbers = set(List) # numbers = [2, 3, 4, 5, 7, 9]

# 3. Вывести результат 
print('numbers = ', numbers)

# Результат выполнения программы
numbers = [2, 3, 4, 5, 7, 9]
```

## Операции и функции для определения надмножеств и подмножеств.
-   Операции **>**, **>=**. Надмножество. 
-   Операции **<**, **<=**. Подмножество.
-   Операции сравнения множеств **\==**, **!=**. 
-   Функция **issubset()**. Определение подмножества
-   Функция **issuperset()**. Определение надмножества

###  Операции >, >=. Надмножество.
Операции **\>**, **\>=** предназначены для определения того,является ли заданное множество надмножеством над другим. Результатом операций есть значение *True* или *False*.
>В операциях **>**, **>=** множества не могут быть пустыми.
#### Операция >
`set1 > set2`
где _set1_, _set2_ – множества, которые рассматриваются соответственно как надмножество и подмножество.
Операция **>** возвращает True, если все элементы множества _set2_ есть в множестве _set1_ и _set1_!=_set2_
```python
x = { 1, 2, 3 }
y = { 2 }
f = x > y 	# f = True
```
```python
x = { 'а', 'b', 'с' }
y = { 'а', 'b', 'с' }
f = x > y 	# f = False - множества равны
```
```python
x = { 1, 2, 3 }
y = { 1, 4 }
f = x > y 	# f = False
```

#### Операция >=
`set1 >= set2`
где _set1_, _set2_ – множества, которые рассматриваются соответственно как надмножество и подмножество.
Операция **>=** возвращает True, если выполняется одно из условий:
-   все элементы множества _set2_ входят в множество _set1_;
-   set1\==set2 (множества равны).
```python
x = { 1, 2, 3 }
y = { 1, 2, 3 }
f = x >= y 	# f = True
```
```python
x = { 'abc', True, 5.66 }
y = { True, 5.66 }
f = x >= y 	# f = True
```

### Операции <, <=. Подмножество.
Операции **<**, **<=** предназначены для определения того, является ли данное множество подмножеством другого. Разница между операциями **<** и **<=** возникает в случае, когда сравниваемые множества равны между собой. Если множества равны, то операция **<** возвращает значение False, а операция **<=** возвращает значение True.
`set1 < set2`
-   _set1_ – множество, которое рассматривается как подмножество. Если все элементы множества _set1_ помещаются в множестве _set2_ и множества не равны (_set1_!=_set2_), тогда результат операции равен **True**;
-   _set2_ – множество, которое рассматривается как надмножество.

`set1 <= set2`
где _set1_, _set2_ непустые множества, которые рассматриваются как подмножество и надмножество.

Результат операции **<=** равен True, если выполняется одно из условий:
-   все элементы множества _set1_ входят в множество _set2_;
-   множества равны (_set1_\==_set2_).

### Операции сравнения множеств \==, !=.
Операции **\==**, **!=** используются для сравнения множеств на равенство/неравенство. Результатом операций есть значение True или False.
```python
x = { 1, 2, 3 }
y = { 1, 3, 2 }
f = x == y 	# f = True
print('f = ', f)
```

###  Функция issubset(). Определение подмножества
Функция `issubset()` предназначена для определения того, является ли текущее множество подмножеством другого. Общая форма объявления функции следующая
`set.issubset(other)`
-   _set_ – текущее множество;
-   _other_ – другое множество которое сравнивается на вхождение с множеством _set_.

Функция `issubset()` возвращает значение **True**, если выполняется одно из условий:
-   множество _set_ есть подмножеством множества _other_. Иными словами, все элементы множества set есть в множестве _other_;
-   множества _set_ и _other_ равны между собой.

В других случаях функция `issubset()` возвращает значение **False**.
>Функция `issubset()` может быть заменена операцией **<=**.
```python
x = { 2, 3, 4 }
y = { 3, 4 }
f1 = x.issubset(y) 	# f1 = False
f2 = y.issubset(x) 	# f2 = True
```

### Функция issuperset(). Определение надмножества

Функция `issuperset()` определяет,является ли текущее множество надмножеством над другим. 
`set.superset(other)`
-   _set_ – текущее множество;
-   _other_ – другое множество, которое сопоставляется с множеством _set_. Если _set_ есть надмножеством над _other_, то функция возвращает True. В противном случае функция возвращает False.

>Функция `issuperset()` может быть заменена операцией **>=**.

```python
x = { 2, 4, 6, 8 }
y = { 2, 8 }
f1 = x.issuperset(y) 	# f1 = True
f2 = y.issuperset(x) 	# f2 = False
```



---
##### Links
[[Функции для работы с множествами]]

##### Источники
[Конспект Python](https://www.bestprog.net/ru/sitemap_ru/python-ru/)