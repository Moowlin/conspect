202201071826
Tags:
___
# Виртуальная локальная сеть VLAN

VLAN - Virtual local area network. Технология разделения единой сети на несколько логических сетей, изолированных друг от друга

Реализуется [[Коммутаторы Ethernet|коммутаторами]] и находится на [[Канальный уровень|канальном уровне]] [[Модель OSI|модели OSI]].



## Преимущества деления и изоляции vlan

1. Безопасность
2. Распределение нагрузки
3. Ограничение широковещательного трафика


## VLAN в коммутаторах

В таблице коммутации, есть поле в котором написано “идентификатор VLAN”, как правило для этих целей используют обычные числа. 

По таблице смотрим, что порт 1 и 5 входят в vlan №2, а порты 2-4 в vlan №3. Если компьютеры подключенные к порту 1 и входящие в vlan 2 попытаются переслать данные к компьютеру подключенному к порту 4 входящий в вилан 3, то даже если компьютер отправителя знает MAC-адрес компьютера получателя, коммутатор не передаст этот кадр. Потому что порты находятся в разных виртуальных сетях и передача данных между ними невозможна.


![[Pasted image 20220107183250.png]]

Хорошо, когда сеть построена на одном коммутаторе, тогда подойдет вариант с таблицей коммутации и номерами vlan. Что делать, если в сети используются 2 или более коммутаторов? При отправлении кадров от одного коммутатора к другому, нужна информация к какому вилэну принадлежит передаваемый кадр. Информацию о № vlan нужно включать в отправляемый кадр, альтернативного варианта получить эту информацию у принимающего коммутатора нет.

С противоположной стороны, формат кадра Ethernet задан стандартом IEEE и в нем нет места для идентификатора VLAN. Чтобы включить № вилан в Ethernet кадр, нужно было изменить формат. Это изменение было предложено в стандарте IEEE 802.1Q. Но было нельзя просто добавить отдельное поле для номера вилан, потому что нужно обеспечить согласование со всем существующим оборудованием.
![[Pasted image 20220107183359.png]]

В стандарте IEEE 802.1Q в поле тип кадра, было предложено, вместо протокола верхнего уровня вставить специальное значение в шестнадцатеричном виде 8100 — это показатель того, что кадр содержит номер вилана. Далее в части, где в стандартном кадре Ethernet должны находиться данные, есть поле из 2-х байт, которое содержит номер вилана — Тег и еще одно поле из двух байт, куда записывается код протокола вышестоящего уровня. 

Чтобы передавать данные размером 1500 байт в кадрах с идентификатором вилана, max длина кадра была увеличена на четыре байта.

![[Pasted image 20220107183430.png]]






# Ссылки
___
##### Links


---
##### Источники



















































