202201071331
Tags:
___
# Коммутаторы Ethernet

Внутри коммутатора полносвязная топология, обеспечивающая объединение всех портов напрямую, с помощью технологии “точка-точка”. Коммутатор действует на [[Канальный уровень| канальном уровне]], а это значит, что он, проводит анализ заголовка канального уровня, получает оттуда адрес принимающей стороны и передает информацию только на тот порт, к которому подключен получатель, в отличии от концентратора, который передаёт данные на все порты.

![[Pasted image 20220107133241.png]]


## Особенности работы коммутаторов

Чтобы нам понять, как работает коммутатор, разберем три понятия.

- *Таблица коммутации*, встроенная во все коммутаторы. Описывает, к какому именно порту коммутатора, какие ПК подключены. 
- Применяется *алгоритм обратного обучения* чтобы узнать [[MAC адреса|mac адреса]] компьютеров, подключённых к его портам.
- *Алгоритм прозрачного моста* применяется после заполнения таблицы коммутации, для передачи данных.


### Таблицы коммутации

В простом виде таблица коммутации (ТК) состоит из 2-х столбцов. Столбец №1 это порт коммутатора, а 2-ой это МАК-адрес ПК, который подключен к данному порту.

![Таблица коммутации](https://zvondozvon.ru/wp-content/uploads/2019/09/table-com.jpg)

В действительности, таблица выглядит намного сложнее, но чтобы понять принцип действия коммутатора, хватит этих 2-х полей.


### Алгоритм обратного обучения

Чтобы узнать, как коммутатор узнает mac адреса компьютеров, которые подключены к его портам, применяется алгоритм обратного обучения.

Например, есть коммутатор, у него 8 портов. Его только что включили и не знает ничего про ПК, подключенные к нему. Ячейки в таблице коммутации пока пустые, коммутатор принимает все кадры, которые приходят на его порты и проводит анализ заголовка канального уровня. Из заголовка он извлекает адрес отправителя. Коммутатор определяет, что к порту №3 подключен ПК с таким же mac-адресом. И следовательно, записывает этот mac-адрес в ТК.

![Коммутатор и таблица коммутации](https://zvondozvon.ru/wp-content/uploads/2019/09/algoritm.jpg)

И так далее, пока вся таблица коммутации не заполнится и коммутатор не будет знать МАК-адреса всех ПК, подключенные к его портам.


### Сетевой мост

Чтобы отправить кадры внутри коммутаторов, применяется алгоритм прозрачного моста. Мост — был до коммутаторов, это спец устройство, используется для объединения нескольких сетей классического ethernet. Если в сети классического интернета будет подключено большое количество ПК, то возникнут коллизии и данные будут передаваться с низкой скоростью. 

Мосты нужны для того, чтобы разделить крупные сети на несколько маленьких, внутри которых намного меньше возникало коллизий и информация передавались с большей скоростью. Мост был подсоединен к 2-м или нескольким сегментам классического изернет, принимал все кадры, которые передаются, но передавал их в другую сеть только в том случае, есть они предназначались для компьютера из другой сети.

![[Pasted image 20220107133622.png]]

Есть несколько видов мостов, но для коммутаторов выбрали режим работы прозрачного моста. Прозрачный мост, он незаметен для сетевых устройств. У него нет своего макадреса и ему не нужна настройка.  Вы можете подключать к нему ПК и информация будет немедленно передаваться в отличие от коммутатора. Маршрутизатору нужны конфигурации для каждого порта. В маршрутизаторах необходимо прописать ip адрес, и настроить таблицу маршрутизации.


### Алгоритм прозрачного моста


Например, таблица коммутации заполнена и коммутатор знает мак адреса компьютеров, подключённые к его портам. Коммутатор принимает кадры, проводит анализ заголовка канального уровня и извлекает оттуда адрес получателя. Он ищет этот мак-адрес в таблице коммутации, в нашем случае на картинке ниже, компьютер с таким мак адресом подключен к порту № 2.
![[Pasted image 20220107133719.png]]

Следовательно, кадр передается на порт №2, где и есть получатель, а не на все порты, как это делает концентратор.
Если пришел кадр с адресом получателя, а этого адреса нет в таблице коммутации. То коммутатор работает по такой же схеме, как и концентратор. Передает кадр на все порты, кроме того порта откуда этот кадр поступил, надеясь, что к какому-нибудь из этих портов подключен компьютер получателя, просто по каким-то причинам он еще не передавал данные и поэтому его мак адреса нет в ТК.





# Ссылки
___
##### Links


---
##### Источник




































