202112301408
Tags:
___
# Технология Ethernet
[[Технология Ethernet]] - доминирующая технология проводных локальных сетей 
Классический Ethernet 
-	Разделяемая среда передачи данных
-	Топология «Общая шина» 

При данной топологии необходим метод обеспечения согласованного доступа к общей среде, так как при одновременной передачи данных могут произойти коллизии. Поэтому применяют управление доступом к среде, чтоб только одно устройство передавало данные в момент времени.

Классический Ethernet использует метод доступа к среде CSMA/CD 
-	Carrier Sense Multiple Access with Collision Detection или Множественный доступ с прослушиванием несущей частоты и обнаружением коллизий

 *Множественный доступ* - есть разделяемая среда, которую используют несколько устройств
 *Прослушивание несущей частоты* : компьютеры передают данные только тогда, когда среда свободна, способ это определеить - прослушивание основной гармоники сигнала (несущей частоты) 
![[Pasted image 20211230141823.png]]

*Коллизия* возникает, когда два компьютера передают данные одновременно
*Обнаружение коллизий* -  компьютер передает и принимает данные одновременно, если принятый сигнал отличается от переданного, знаит возникла коллизия.
Когда обнаружена коллизия, комп останавливает передачу данных и передает в сеть *Jam-последовательность*, этот сигнал существенным образом искажает данные, которые передаются по сети, усиливая коллизию, чтоб все компы в сети поняли, что произошла коллизия и также остановили передачу.


## Модель CSMA/CD
Как в целом устроен метод доступа в среде CSMA/CD. Работа по этому меттоду состоит из трех периодов: передачи, конкуренции и простоя
![[Pasted image 20220106134151.png]]
### Период передачи
	какой-то компьютер захватил доступ к среде и передает свои данные

Компьтер может передавать данные, если в среде нет несущей частоты. Передача состоит из частей: 
- преамбуда - позволяет отправителю и получателю синхронизироваться и выделить кадр
	Формат преамбулы в версии 1:
		- длина 8 байт
		- первые 7 байт 10101010
		- последний байт: 10101011 (ограничитель кадра)
- кадр
	После окончания преамбулы компьютер начинает передавать кадр. Все остальные компьютеры в сети начинают принимать кадр и записывают его в свой буфер. Первые 6 байт кадра содержат [[MAC адреса|MAC-адрес]], и тот комп, что узнал свой адрес, продолжает записывать кадр, а остальные удаляют кадр из буфераа
 	**Специальный режим сетевого адаптера** - *неразборчивый*, в котором аптер принимает все кадры в сети, не зависимо от MAC-адреса назначения, удобно для диагностики работы сеим
- межкадровый интервал - пауза между кадрами
	после передаи кадра комп выдерживает паузу - в классическом Ethernet это 9,6 мкс. Для предотвращения монопольного захвата канала и приведение сетевых адаптеров в исходное состояние
![[Pasted image 20220106134316.png]]



### Период конкуренции
	несколько компьютеро начинают передачу, возникает коллизия, все останавливается и начинается вновь, повторяется до тех пор, пока кому-то не удастся монополизировать среду.

Если компьютер начал передавать данные и обнаружил коллизию, то он делает паузу, длительностью: 

>L * 512 битовых интервалов, где
битовый интервал - время между появлениями двух последовательных битов данных, в классическом Ethernet это  0,1 мкс
L случайно выбирается их диапазона [0, 2^n-1], где n - номер попытки


Это называется *экспоненциальный двоичный алгоритм отсрочки*
Диапазоны L:
- 1 попытка: [0,1]
- 2 попытка: [0,3]
- 3 попытка: [0,7]
- 5 попытка: [0,31]
- 10 попытка: [0,1023]
После 10 попыток интервал не увеличивается
После 16 попыток передача прекращается - комп считает, что сеть неисправна 

> Алгоритм хорошо работает при низкой загрузке: 
> - в сети мало компьютеров
> - компьютеры редко передают данные

Если нагрузка высока, то коллизии возникают чаще:
- расчтет число попыток передачи
- растет интервал, из которого выбирается L, и длительность пауз
- Экспонциально увеличивается задержка
	
### Период простоя
	никто ничего не передает, среда свободна


## Недостатки классического Ethernet
1. Плохая масштабируемость
	- сеть становится неработоспособной при загрузке разделяемой среды более, чем на 30%
	- работоспособное количество компьютеров - 30
2. Низкая безопасность
	- данные в разделяемой среде доступны всем
3. Разное время доставки кадра
	- причина - коллизии
	- плохо для трафика реального времени


# Ссылки
___
##### Links


---
##### Источники
































