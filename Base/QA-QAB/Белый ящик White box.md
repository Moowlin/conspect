202112021900
Tags:
___
# White box

>**Summary: Нам известны все детали реализации тестируемой программы.**

Мы выбираем входные значения, основываясь на знании кода, который будет их обрабатывать. Точно так же мы знаем, каким должен быть результат этой обработки. Знание всех особенностей тестируемой программы и ее реализации обязательны для этой техники. Тестирование белого ящика – углубление во внутреннее устройство системы за пределы ее внешних интерфейсов.


Согласно ISTQB: **тестирование белого ящика – это:**
-   тестирование, основанное на анализе внутренней структуры компонента или системы;
-   тест-дизайн, основанный на технике белого ящика – процедура написания или выбора тест-кейсов на основе анализа внутреннего устройства системы или компонента.

>Техника белого ящика применима на разных уровнях тестирования: от модульного до системного, но, главным образом, применяется именно для реализации модульного тестирования компонента его автором.

**Преимущества:**
1.  тестирование может производиться на ранних этапах: нет необходимости ждать создания пользовательского интерфейса;
2.  можно провести более тщательное тестирование с покрытием большого количества путей выполнения программы.

**Недостатки:**
1.  для выполнения тестирования белого ящика необходимо большое количество специальных знаний;
2.  при использовании автоматизации тестирования на этом уровне поддержка тестовых скриптов может оказаться достаточно накладной, если программа часто изменяется.


# Стратегия «белого ящика»

Существуют следующие методы тестирования по принципу «белого ящика»:
• покрытие операторов;
• покрытие решений;
• покрытие условий;
• покрытие решений/условий;
• комбинаторное покрытие условий.

## Метод покрытия операторов
Целью этого метода тестирования является выполнение каждого оператора программы хотя бы один раз.
![[image048.png]]

Если для тестирования задать значения переменных _А = 2,_ B = 0, _Х=3,_ будет реализован путь _асе,_ т. е. каждый оператор программы выполнится один раз (рис. Л5.1, _а)._ Но если внести в алгоритм ошибки — заменить в первом условии _and_ на _or,_ а во втором _Х>_ 1 на _Х<_ 1 (рис. Л5.1, _б),_ ни одна ошибка не будет обнаружена (табл. Л5.1). Кроме того, путь _abd_ вообще не будет охвачен тестом, и если в нем есть ошибка, она также не будет обнаружена. В табл. Л5.1 ожидаемый результат определяется по блок-схеме на рис. Л5.1, _а,_ а фактический — по рис. Л5.1, _б._

Как видно из этой таблицы, ни одна из внесенных в алго­ритм ошибок не будет обнаружена.

_Таблица Л5.1._ **Результат тестирования**методом **покрытия операторов**

| Тест                | Ожидаемый результат | Фактический результат | Результат тестирования |
| ------------------- | ------------------- | --------------------- | ---------------------- |
| _А = 2,_ B = 0, Х=3 | _Х=2,5_             | _Х=2,5_               | Неуспешно                       |

## Метод покрытия решений (покрытия переходов)

Согласно методу покрытия решений каждое направление пе­рехода должно быть реализовано, по крайней мере, один раз. Этот метод включает в себя критерий покрытия операторов, так как при выполнении всех направлений переходов выполнятся все операторы, находящиеся на этих направлениях.

Для программы, приведенной на рис. Л5.1, покрытие реше­ний может быть выполнено двумя тестами, покрывающими пути _{асе, abd\,_ либо _{acd, abe]._ Для этого выберем следующие исход­ные данные: {А = 3, B=0, _Х=3}_ — в первом случае и _{А = 2, В=1, Х=_ 1} — во втором. Однако путь, где А не меняется, будет проверен с вероятностью 50%: если во втором условии вместо условия _Х>_ 1 записано _Х<_ 1, то ошибка не будет обнаружена двумя тестами.

Результаты тестирования приведены в табл. Л5.2.

_Таблица Л5.2._ Результат тестирования методом покрытия решений

| Тест            | Ожидаемый результат | Фактический результат | Результат тестирования |
| --------------- | ------------------- | --------------------- | ---------------------- |
| A = 3, B=0, X=3 | _Х=1_               | _Х=1_                 | Неуспешно              |
| A = 2, B=1,X=1  | _Х=1_               | _Х=1,5_               |  Успешно                      |


## Метод покрытия условий
В соответствии с методом покрытия условий записывается число тестов, достаточное для того, чтобы все возможные результаты каждого условия в решении выполнялись, по крайней мере, один раз.

В рассматриваемом примере имеем условия: _{А>_ 1, _B = 0}, {А =_ 2, _Х>_ 1}. 

Следовательно, требуется достаточное число тестов, такое, чтобы реализовать ситуации, где _А >_ 1, _А_ < 1, _В=_ О и _В<>_ 0 в точке _а_ и _А_ = 2, _А<>_ 2, _Х>_ 1 и _Х<_ 1 в точке _b._ Тесты, удовлетворяющие критерию покрытия условий (табл. Л5.3), и соответствующие им пути:
а) _А_ = 2, B=0, _Х=4 асе;_
6) _А=_ 1, _В =_ 1, _Х=0 abd._

_Таблица Л5.3._ Результаты тестирования методом покрытия условий

| Тест               | Ожидаемый результат | Фактический результат | Результат тестирования |
| ------------------ | ------------------- | --------------------- | ---------------------- |
| A = 2, B=0, _Х=_ 4 | X=3                 | X=3                   | Неуспешно              |
| _А=1, В=1,Х=0_     | _Х=0_               | _Х=1_               | Успешно                |


## Метод покрытия решений/условий
Критерий покрытия решений/условий требует такого достаточного набора тестов, чтобы все возможные результаты каждого условия выполнялись по крайней мере один раз, все результаты каждого решения выполнялись по крайней мере один раз и, кроме того, каждой точке входа передавалось управление по крайней мере один раз.

**Недостатки метода:**
• не всегда можно проверить все условия;
• невозможно проверить условия, которые скрыты другими  
условиями;
• недостаточная чувствительность к ошибкам в логических выражениях.


Так, в рассматриваемом примере два теста метода покрытия условий
а) _А = 2,_ B=0, _Х=4 асе;_
б) _A= 1, _В=1, Х=0 abd_
отвечают и критерию покрытия решений/условий. Это является следствием того, что одни условия приведенных решений скрывают другие условия в этих решениях. Так, если условие _А >_ 1 будет ложным, транслятор может не проверять условия _B=0,_ поскольку при любом результате условия ,B=0 результат решения _((А>_ 1)&(B=0)) примет значение _ложь._ То есть в варианте на рис. Л5.1 не все результаты всех условий выполнятся в процессе тестирования.

  
Рассмотрим реализацию того же примера на рис. Л5.2. Наиболее полное покрытие тестами в этом случае осуществляется так, чтобы выполнялись все возможные результаты каждого простого решения. Для этого нужно покрыть пути _aceg_ (тест _А = 2,_ B=0, X=4), _acdfh_ (тест A = 3, B= 1,X=0), _abfh_ (тест A = 0, B = 0, _Х=_ 0), _abfi_ (тест _А =_ 0, B= 0, _Х=_ 2).

![[image049.png]]

Протестировав алгоритм на рис. Л5.2, нетрудно убедиться в том, что критерии покрытия условий и критерии покрытия решений/условий недостаточно чувствительны к ошибкам в логических выражениях

## Метод комбинаторного покрытия условий

Критерий комбинаторного покрытия условий удовлетворяет также и критериям покрытия решений, покрытия условий и покрытия решений/условий.

Этот метод требует создания такого числа тестов, чтобы все возможные комбинации результатов условия в каждом решении выполнялись по крайней мере один раз. По этому критерию в рассматриваемом примере должны быть покрыты тестами следующие восемь комбинаций:

1.A>1,B=0. _5.А = 2,Х>1._
2. A > 1,B<>0. _6.А = 2,Х<1._
З.A<1,B=0. _7.А<>2,Х>1._
4.A<1,B<>0. 8.A<>2,X<1.

Для того чтобы протестировать эти комбинации, необязательно использовать все 8 тестов. Фактически они могут быть покрыты четырьмя тестами (табл. Л5.4):

• _А = 2,_ B= 0, _Х=_ 4 {покрывает 1, 5};
• _А_ = 2, B= 1, _Х=_ 1 {покрывает 2, 6};
• _А =_ 0,5, B = 0, _Х= 2_ {покрывает 3, 7};
•_A_=1,B=0, _Х=_ 1 {покрывает 4, 8}.

_Таблица Л5.4._

Результаты тестирования методом комбинаторного покрытия условий



___
##### Links
[[Сравнение Black White Gray boxs]]
https://disk.yandex.ru/i/ufBVJ1VCa9hbIw

---
##### Источники
https://sergeygavaga.gitbooks.io/kurs-lektsii-testirovanie-programnogo-obespecheni/content/lektsiya-2-ch4-vidi-i-napravleniya-testirovaniya.h

https://studopedia.su/12_26440_primer.html

https://russianblogs.com/article/7970794961/